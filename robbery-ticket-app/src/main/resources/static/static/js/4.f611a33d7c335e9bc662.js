webpackJsonp([4],{"/5at":function(n,t,e){"use strict";function i(n){N||e("8qCm")}function a(n){O||e("LtC3")}Object.defineProperty(t,"__esModule",{value:!0});var o=e("a3Yh"),s=e.n(o),r=e("4YfN"),c=e.n(r),l=e("Pjc7"),d=e("K3yo"),h=e("HVJf"),p=e("hArn"),u=(p.a,Boolean,String,{name:"check-icon",components:{Icon:p.a},methods:{updateValue:function(){this.$emit("update:value",!this.value)}},props:{value:{type:Boolean,default:!1},type:{type:String,default:"default"}}}),f=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"vux-check-icon",on:{click:n.updateValue}},[e("icon",{directives:[{name:"show",rawName:"v-show",value:"default"===n.type&&n.value,expression:"type === 'default' && value"}],attrs:{type:"success"}}),n._v(" "),e("icon",{directives:[{name:"show",rawName:"v-show",value:"plain"===n.type&&n.value,expression:"type === 'plain' && value"}],attrs:{type:"success_circle"}}),n._v(" "),e("icon",{directives:[{name:"show",rawName:"v-show",value:!n.value,expression:"!value"}],attrs:{type:"circle"}}),n._v(" "),e("span",[n._t("default")],2)],1)},m=[];f._withStripped=!0;var k={render:f,staticRenderFns:m},v=k,N=!1,b=e("C7Lr"),g=i,C=b(u,v,!1,g,null,null);C.options.__file="node_modules/_vux@2.9.2@vux/src/components/check-icon/index.vue";var y,w,z=C.exports,x=e("IXui"),_=(e("3/zL"),e("/xf8")),L=(y={name:"ticketList",components:{XButton:x.a,HeaderCom:l.a,ScrollList:d.a,Icon:p.a,CheckIcon:z},data:function(){return{title:"选择车次",inlineDescList:[],inlineDescListValue:[],ticketListArr:[],appId:"79340",sign:"9e151ce583aa4403bd3d3df0d894374e",cityName:"广州",param:{}}},computed:{},methods:c()({},Object(h.d)("CONTAINER",["setOptions"]),{commitTicket:function(){for(var n=[],t=[],e=0;e<this.ticketListArr.length;e++)if(this.ticketListArr[e].status){n.push(this.ticketListArr[e].num);for(var i=0;i<this.ticketListArr[e].tickets.length;i++)t.push(this.ticketListArr[e].tickets[i].ticketName)}var a;a=t.filter(function(n,t,e){return e.indexOf(n)==t}),this.setOptions({trainNumberList:n,trainNumberStr:n.join("、"),currentSeatTypeArr:a}),this.$router.push({name:"index"})},chooseTicket:function(n,t){n.status=!n.status,_.a.set(this.ticketListArr,t,n),console.log(this.ticketListArr)},change:function(n,t){console.log("change",n,t)},getDataList:function(n){var t=this;this.$store.dispatch("TICKET/getTicketList",n).then(function(n){if(-1==n.data.showapi_res_code)return void console.log("请求失败");var e=n.data.showapi_res_body.trains;console.log(e);for(var i=0;i<e.length;i++){for(var a=0;a<t.trainNumberList.length;a++)e[i].num==t.trainNumberList[i]?e[i].status=!0:e[i].status=!1;var o=parseInt(e[i].usedTime/60),s=e[i].usedTime%60;e[i].usedTimeFormat=o+"时"+s+"分";var r=[],c=e[i].ticketInfo;void 0!==c.softsleeperdown&&r.push({ticketName:c.softsleeperdown.ticketName,isTicket:"0"==c.softsleeperdown.ticketNum?"无票":"有票"}),void 0!==c.hardsleepermid&&r.push({ticketName:c.hardsleepermid.ticketName,isTicket:"0"==c.hardsleepermid.ticketNum?"无票":"有票"}),void 0!==c.hardseat&&r.push({ticketName:c.hardseat.ticketName,isTicket:"0"==c.hardseat.ticketNum?"无票":"有票"}),void 0!==c.dsleeperdown&&r.push({ticketName:c.dsleeperdown.ticketName,isTicket:"0"==c.dsleeperdown.ticketNum?"无票":"有票"}),void 0!==c.businessseat&&r.push({ticketName:c.businessseat.ticketName,isTicket:"0"==c.businessseat.ticketNum?"无票":"有票"}),void 0!==c.firstseat&&r.push({ticketName:c.firstseat.ticketName,isTicket:"0"==c.firstseat.ticketNum?"无票":"有票"}),void 0!==c.secondseat&&r.push({ticketName:c.secondseat.ticketName,isTicket:"0"==c.secondseat.ticketNum?"无票":"有票"}),void 0!==c.noseat&&r.push({ticketName:c.noseat.ticketName,isTicket:"0"==c.noseat.ticketNum?"无票":"有票"}),e[i].tickets=r}t.ticketListArr=e,console.log(t.ticketListArr)})}})},s()(y,"computed",c()({},Object(h.c)("CONTAINER",["origin","destination","specifiedDate","passenger","seatType","selectDayList","todayTime","trainNumberList"]))),s()(y,"mounted",function(){this.param={},this.param.showapi_appid=this.appId,this.param.showapi_sign=this.sign,this.param.from=this.origin,this.param.to=this.destination,this.param.trainDate=this.selectDayList[0],this.getDataList(this.param)}),w={name:"ticketList",components:{XButton:x.a,HeaderCom:l.a,ScrollList:d.a,Icon:p.a,CheckIcon:z},data:function(){return{title:"选择车次",inlineDescList:[],inlineDescListValue:[],ticketListArr:[],appId:"79340",sign:"9e151ce583aa4403bd3d3df0d894374e",cityName:"广州",param:{}}},computed:{},methods:c()({},Object(h.d)("CONTAINER",["setOptions"]),{commitTicket:function(){for(var n=[],t=[],e=0;e<this.ticketListArr.length;e++)if(this.ticketListArr[e].status){n.push(this.ticketListArr[e].num);for(var i=0;i<this.ticketListArr[e].tickets.length;i++)t.push(this.ticketListArr[e].tickets[i].ticketName)}var a;a=t.filter(function(n,t,e){return e.indexOf(n)==t}),this.setOptions({trainNumberList:n,trainNumberStr:n.join("、"),currentSeatTypeArr:a}),this.$router.push({name:"index"})},chooseTicket:function(n,t){n.status=!n.status,_.a.set(this.ticketListArr,t,n),console.log(this.ticketListArr)},change:function(n,t){console.log("change",n,t)},getDataList:function(n){var t=this;this.$store.dispatch("TICKET/getTicketList",n).then(function(n){if(-1==n.data.showapi_res_code)return void console.log("请求失败");var e=n.data.showapi_res_body.trains;console.log(e);for(var i=0;i<e.length;i++){for(var a=0;a<t.trainNumberList.length;a++)e[i].num==t.trainNumberList[i]?e[i].status=!0:e[i].status=!1;var o=parseInt(e[i].usedTime/60),s=e[i].usedTime%60;e[i].usedTimeFormat=o+"时"+s+"分";var r=[],c=e[i].ticketInfo;void 0!==c.softsleeperdown&&r.push({ticketName:c.softsleeperdown.ticketName,isTicket:"0"==c.softsleeperdown.ticketNum?"无票":"有票"}),void 0!==c.hardsleepermid&&r.push({ticketName:c.hardsleepermid.ticketName,isTicket:"0"==c.hardsleepermid.ticketNum?"无票":"有票"}),void 0!==c.hardseat&&r.push({ticketName:c.hardseat.ticketName,isTicket:"0"==c.hardseat.ticketNum?"无票":"有票"}),void 0!==c.dsleeperdown&&r.push({ticketName:c.dsleeperdown.ticketName,isTicket:"0"==c.dsleeperdown.ticketNum?"无票":"有票"}),void 0!==c.businessseat&&r.push({ticketName:c.businessseat.ticketName,isTicket:"0"==c.businessseat.ticketNum?"无票":"有票"}),void 0!==c.firstseat&&r.push({ticketName:c.firstseat.ticketName,isTicket:"0"==c.firstseat.ticketNum?"无票":"有票"}),void 0!==c.secondseat&&r.push({ticketName:c.secondseat.ticketName,isTicket:"0"==c.secondseat.ticketNum?"无票":"有票"}),void 0!==c.noseat&&r.push({ticketName:c.noseat.ticketName,isTicket:"0"==c.noseat.ticketNum?"无票":"有票"}),e[i].tickets=r}t.ticketListArr=e,console.log(t.ticketListArr)})}})},s()(w,"computed",c()({},Object(h.c)("CONTAINER",["origin","destination","specifiedDate","passenger","seatType","selectDayList","todayTime","trainNumberList"]))),s()(w,"mounted",function(){this.param={},this.param.showapi_appid=this.appId,this.param.showapi_sign=this.sign,this.param.from=this.origin,this.param.to=this.destination,this.param.trainDate=this.selectDayList[0],this.getDataList(this.param)}),w),T=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"co-f1 co-flex co-ver co-cl-1 ticket-list"},[e("header-com",{attrs:{isBack:"",title:n.title}}),n._v(" "),e("ScrollList",[e("div",{staticClass:"ticketItem"},n._l(n.ticketListArr,function(t,i){return e("div",{key:i,staticClass:"items"},[e("div",{staticClass:"ticketItme",on:{click:function(e){n.chooseTicket(t,i)}}},[e("div",{staticClass:"ticketIcon"},[t.status?e("icon",{attrs:{type:"success"}}):e("icon",{attrs:{type:"circle"}})],1),n._v(" "),e("div",{staticClass:"ticketInfo"},[e("div",{staticClass:"itemHeader"},[e("div",{staticClass:"train_begin"},[n._v(n._s(t.fromTime))]),n._v(" "),e("div",{staticClass:"train_form"},[n._v(n._s(t.fromCity))]),n._v(" "),e("div",{staticClass:"train_num"},[n._v(n._s(t.num))])]),n._v(" "),e("div",{staticClass:"ticketTo"},[e("div",{staticClass:"train_end"},[n._v(n._s(t.toTime))]),n._v(" "),e("div",{staticClass:"train_to"},[n._v(n._s(t.toCity))]),n._v(" "),e("div",{staticClass:"train_end"},[n._v(n._s(t.usedTimeFormat))])]),n._v(" "),e("p",n._l(t.tickets,function(t,i){return e("span",{key:i},[n._v("\n                      "+n._s(t.ticketName)+" : "+n._s(t.isTicket)+"\n                  ")])}),0)])])])}),0)]),n._v(" "),e("div",{staticClass:"commit"},[e("x-button",{attrs:{plain:"",type:"primary"},nativeOn:{click:function(t){return n.commitTicket(t)}}},[n._v("确认")])],1)],1)},I=[];T._withStripped=!0;var A={render:T,staticRenderFns:I},D=A,O=!1,j=e("C7Lr"),S=a,B=j(L,D,!1,S,"data-v-0e1968fa",null);B.options.__file="src/views/ticket/ticketList.vue";t.default=B.exports},"3/zL":function(n,t,e){"use strict";var i=e("/xf8"),a=e("RwsD"),o=void 0;o||(o=Object(a.a)(i.a));var s={};t.a={show:function(n){return a.c.call(s,o,n)},hide:function(){return a.b.call(s,o)}}},"8qCm":function(n,t,e){var i=e("kHGU");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e("FIqI")("587db419",i,!1,{})},LtC3:function(n,t,e){var i=e("vZIq");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e("FIqI")("96d24ac8",i,!1,{})},a3Yh:function(n,t,e){"use strict";t.__esModule=!0;var i=e("liLe"),a=function(n){return n&&n.__esModule?n:{default:n}}(i);t.default=function(n,t,e){return t in n?(0,a.default)(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}},kHGU:function(n,t,e){t=n.exports=e("UTlt")(!1),t.push([n.i,"/**\n* actionsheet\n*/\n/**\n* en: primary type text color of menu item\n* zh-CN: 菜单项primary类型的文本颜色\n*/\n/**\n* en: warn type text color of menu item\n* zh-CN: 菜单项warn类型的文本颜色\n*/\n/**\n* en: default type text color of menu item\n* zh-CN: 菜单项default类型的文本颜色\n*/\n/**\n* en: disabled type text color of menu item\n* zh-CN: 菜单项disabled类型的文本颜色\n*/\n/**\n* datetime\n*/\n/**\n* tabbar\n*/\n/**\n* tab\n*/\n/**\n* dialog\n*/\n/**\n* en: title and content's padding-left and padding-right\n* zh-CN: 标题及内容区域的 padding-left 和 padding-right\n*/\n/**\n* x-number\n*/\n/**\n* checkbox\n*/\n/**\n* check-icon\n*/\n/**\n* Cell\n*/\n/**\n* Mask\n*/\n/**\n* Range\n*/\n/**\n* Tabbar\n*/\n/**\n* Header\n*/\n/**\n* Timeline\n*/\n/**\n* Switch\n*/\n/**\n* Button\n*/\n/**\n* en: border radius\n* zh-CN: 圆角边框\n*/\n/**\n* en: font color\n* zh-CN: 字体颜色\n*/\n/**\n* en: margin-top value between previous button, not works when there is only one button\n* zh-CN: 与相邻按钮的 margin-top 间隙，只有一个按钮时不生效\n*/\n/**\n* en: button height\n* zh-CN: 按钮高度\n*/\n/**\n* en: the font color in disabled\n* zh-CN: disabled状态下的字体颜色\n*/\n/**\n* en: the font color in disabled\n* zh-CN: disabled状态下的字体颜色\n*/\n/**\n* en: font size\n* zh-CN: 字体大小\n*/\n/**\n* en: the font size of the mini type\n* zh-CN: mini类型的字体大小\n*/\n/**\n* en: the line height of the mini type\n* zh-CN: mini类型的行高\n*/\n/**\n* en: the background color of the warn type\n* zh-CN: warn类型的背景颜色\n*/\n/**\n* en: the background color of the warn type in active\n* zh-CN: active状态下，warn类型的背景颜色\n*/\n/**\n* en: the background color of the warn type in disabled\n* zh-CN: disabled状态下，warn类型的背景颜色\n*/\n/**\n* en: the background color of the default type\n* zh-CN: default类型的背景颜色\n*/\n/**\n* en: the font color of the default type\n* zh-CN: default类型的字体颜色\n*/\n/**\n* en: the background color of the default type in active\n* zh-CN: active状态下，default类型的背景颜色\n*/\n/**\n* en: the font color of the default type in disabled\n* zh-CN: disabled状态下，default类型的字体颜色\n*/\n/**\n* en: the background color of the default type in disabled\n* zh-CN: disabled状态下，default类型的背景颜色\n*/\n/**\n* en: the font color of the default type in active\n* zh-CN: active状态下，default类型的字体颜色\n*/\n/**\n* en: the background color of the primary type\n* zh-CN: primary类型的背景颜色\n*/\n/**\n* en: the background color of the primary type in active\n* zh-CN: active状态下，primary类型的背景颜色\n*/\n/**\n* en: the background color of the primary type in disabled\n* zh-CN: disabled状态下，primary类型的背景颜色\n*/\n/**\n* en: the font color of the plain primary type\n* zh-CN: plain的primary类型的字体颜色\n*/\n/**\n* en: the border color of the plain primary type\n* zh-CN: plain的primary类型的边框颜色\n*/\n/**\n* en: the font color of the plain primary type in active\n* zh-CN: active状态下，plain的primary类型的字体颜色\n*/\n/**\n* en: the border color of the plain primary type in active\n* zh-CN: active状态下，plain的primary类型的边框颜色\n*/\n/**\n* en: the font color of the plain default type\n* zh-CN: plain的default类型的字体颜色\n*/\n/**\n* en: the border color of the plain default type\n* zh-CN: plain的default类型的边框颜色\n*/\n/**\n* en: the font color of the plain default type in active\n* zh-CN: active状态下，plain的default类型的字体颜色\n*/\n/**\n* en: the border color of the plain default type in active\n* zh-CN: active状态下，plain的default类型的边框颜色\n*/\n/**\n* en: the font color of the plain warn type\n* zh-CN: plain的warn类型的字体颜色\n*/\n/**\n* en: the border color of the plain warn type\n* zh-CN: plain的warn类型的边框颜色\n*/\n/**\n* en: the font color of the plain warn type in active\n* zh-CN: active状态下，plain的warn类型的字体颜色\n*/\n/**\n* en: the border color of the plain warn type in active\n* zh-CN: active状态下，plain的warn类型的边框颜色\n*/\n/**\n* swipeout\n*/\n/**\n* Cell\n*/\n/**\n* Badge\n*/\n/**\n* en: badge background color\n* zh-CN: badge的背景颜色\n*/\n/**\n* Popover\n*/\n/**\n* Button tab\n*/\n/**\n* en: not used\n* zh-CN: 未被使用\n*/\n/**\n* en: border radius color\n* zh-CN: 圆角边框的半径\n*/\n/**\n* en: border color\n* zh-CN: 边框的颜色\n*/\n/**\n* en: not used\n* zh-CN: 默认状态下圆角边框的颜色\n*/\n/**\n* en: not used\n* zh-CN: 未被使用\n*/\n/**\n* en: default background color\n* zh-CN: 默认状态下的背景颜色\n*/\n/**\n* en: selected background color\n* zh-CN: 选中状态下的背景颜色\n*/\n/**\n* en: not used\n* zh-CN: 未被使用\n*/\n/* alias */\n/**\n* en: not used\n* zh-CN: 未被使用\n*/\n/**\n* en: default text color\n* zh-CN: 默认状态下的文本颜色\n*/\n/**\n* en: height\n* zh-CN: 元素高度\n*/\n/**\n* en: line height\n* zh-CN: 元素行高\n*/\n/**\n* Swiper\n*/\n/**\n* checklist\n*/\n/**\n* popup-picker\n*/\n/**\n* popup\n*/\n/**\n* popup-header\n*/\n/**\n* form-preview\n*/\n/**\n* sticky\n*/\n/**\n* group\n*/\n/**\n* en: margin-top of title\n* zh-CN: 标题的margin-top\n*/\n/**\n* en: margin-bottom of title\n* zh-CN: 标题的margin-bottom\n*/\n/**\n* en: margin-top of footer title\n* zh-CN: 底部标题的margin-top\n*/\n/**\n* en: margin-bottom of footer title\n* zh-CN: 底部标题的margin-bottom\n*/\n/**\n* toast\n*/\n/**\n* en: text color of content\n* zh-CN: 内容文本颜色\n*/\n/**\n* en: default top\n* zh-CN: 默认状态下距离顶部的高度\n*/\n/**\n* en: position top\n* zh-CN: 顶部显示的高度\n*/\n/**\n* en: position bottom\n* zh-CN: 底部显示的高度\n*/\n/**\n* en: z-index\n* zh-CN: z-index\n*/\n/**\n* icon\n*/\n/**\n* calendar\n*/\n/**\n* en: forward and backward arrows color\n* zh-CN: 前进后退的箭头颜色\n*/\n/**\n* en: text color of week highlight\n* zh-CN: 周末高亮的文本颜色\n*/\n/**\n* en: background color when selected\n* zh-CN: 选中时的背景颜色\n*/\n/**\n* en: text color when disabled\n* zh-CN: 禁用时的文本颜色\n*/\n/**\n* en: text color of today\n* zh-CN: 今天的文本颜色\n*/\n/**\n* en: font size of cell\n* zh-CN: 单元格的字号\n*/\n/**\n* en: background color\n* zh-CN: 背景颜色\n*/\n/**\n* en: size of date cell\n* zh-CN: 日期单元格尺寸大小\n*/\n/**\n* en: line height of date cell\n* zh-CN: 日期单元格的行高\n*/\n/**\n* en: text color of header\n* zh-CN: 头部的文本颜色\n*/\n/**\n* week-calendar\n*/\n/**\n* search\n*/\n/**\n* en: text color of cancel button\n* zh-CN: 取消按钮文本颜色\n*/\n/**\n* en: background color\n* zh-CN: 背景颜色\n*/\n/**\n* en: text color of placeholder\n* zh-CN: placeholder文本颜色\n*/\n/**\n* radio\n*/\n/**\n* en: checked icon color\n* zh-CN: 选中状态的图标颜色\n*/\n/**\n* loadmore\n*/\n/**\n* en: not used\n* zh-CN: 未被使用\n*/\n/**\n* loading\n*/\n/**\n* en: z-index\n* zh-CN: z-index\n*/\n.vux-check-icon {\n  display: inline-block;\n}\n.vux-check-icon > span {\n  line-height: 23px;\n  color: #222;\n  vertical-align: middle;\n}\n.vux-check-icon > .weui-icon-success:before,\n.vux-check-icon > .weui-icon-success-circle:before {\n  color: #09BB07;\n}\n",""])},vZIq:function(n,t,e){t=n.exports=e("UTlt")(!1),t.push([n.i,"\n.ticketItem[data-v-0e1968fa] {\n  padding-bottom: 80px;\n}\n.commit[data-v-0e1968fa] {\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  padding: 15px;\n  background-color: #fff;\n}\n.ticketItme[data-v-0e1968fa] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n}\n.ticketItme .ticketInfo[data-v-0e1968fa] {\n  width: 300px;\n  display: inline-block;\n  background-color: #fff;\n  border-radius: 16px;\n  padding: 24px;\n  margin: 10px 0;\n  box-shadow: 0px 2px 5px 5px #f5f5f5;\n}\n.ticketItme .ticketInfo .itemHeader[data-v-0e1968fa],\n.ticketItme .ticketInfo .ticketTo[data-v-0e1968fa] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n}\n.ticketItme .ticketInfo .itemHeader div[data-v-0e1968fa],\n.ticketItme .ticketInfo .ticketTo div[data-v-0e1968fa] {\n  min-width: 100px;\n  text-align: left;\n}\n/* .ticketItem{\n  width: 300px;\n  display: inline-block;\n  background-color: #fff;\n  border-radius: 16px;\n  padding: 24px;\n  margin: 10px 0;\n  box-shadow:0px 2px 5px 5px #f5f5f5;\n  .itemHeader,.ticketTo{\n    display: flex;\n    justify-content: space-between;\n    div{\n      min-width: 100px;\n      text-align: left;\n    }\n  }\n}\n.items{\n  padding-top: 10px;\n} */\n.ticket-list[data-v-0e1968fa] .vux-tab .vux-tab-item.vux-tab-selected {\n  color: #4889db !important;\n}\n.ticket-list[data-v-0e1968fa] .vux-tab-ink-bar {\n  background-color: #4889db !important;\n}\n.ticket-list .slideRit[data-v-0e1968fa] {\n  width: 5rem;\n  text-align: right;\n}\n",""])}});
//# sourceMappingURL=4.f611a33d7c335e9bc662.js.map